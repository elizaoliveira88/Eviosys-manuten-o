<div class="appFrame" fxLayout="column" fxLayoutAlign="start start">
    <div fxLayout="column">
        <h1>{{'PROJECTS.INFO.TITLE' | translate}}</h1>
        <h2>{{'PROJECTS.INFO.SUB' | translate}}</h2>
    </div>

    <div class="w-full" style="margin-left:-6px;">
        <div [formGroup]="customerData" class="info-container min-w-[420px] !min-h-[640px]" fxLayout="column" fxLayoutAlign="start start">
            <div fxLayout="row" fxLayoutAlign="space-between center" class="w-full mb-4">
                <div fxLayout="row" fxLayoutAlign="start center">
                    <mat-icon>apps</mat-icon>
                    <h3 class="!ml-4">{{ 'PROJECTS.INFO.PROJECT_DATA' | translate }}</h3>
                </div>
                <div fxLayout="row"     class="grid grid-cols-2 gap-2">
                    <button *ngIf="customerData.enabled" [disabled]="vendorData.enabled || settingsData.enabled" (click)="cancelEdit(customerData)" mat-stroked-button class="btn-icon btn-small"><mat-icon>cancel</mat-icon></button>
                    <button *ngIf="customerData.enabled" [disabled]="vendorData.enabled || settingsData.enabled" (click)="saveEditData(customerData, 'customer')" mat-raised-button class="btn-icon btn-small"><mat-icon>save</mat-icon></button>
                    <button *ngIf="customerData.disabled" [disabled]="vendorData.enabled || settingsData.enabled" (click)="startEdit(customerData)" mat-stroked-button class="btn-icon btn-small"><mat-icon>edit</mat-icon></button>
                </div>
            </div>
            <div class="w-full" fxLayout="column" fxLayoutAlign="start start">
                <div class="w-full" fxLayout="row" fxLayoutAlign="space-between center">
                    <mat-form-field>
                        <mat-label>{{ 'PROJECTS.INFO.PROJECT_NAME' | translate }}</mat-label>
                        <input matInput [formControlName]="'name'">
                    </mat-form-field>
                    <mat-form-field>
                        <mat-label>{{ 'PROJECTS.INFO.PROJECT_ID' | translate }}</mat-label>
                        <input matInput [formControlName]="'projectId'">
                    </mat-form-field>
                </div>
                <div class="w-full" fxLayout="row" fxLayoutAlign="space-between center">
                    <mat-form-field class="w-full">
                        <mat-label>{{ 'PROJECTS.INFO.PROJECT_CUSTOMER' | translate }}</mat-label>
                        <input matInput [formControlName]="'customerName'">
                    </mat-form-field>
                </div>
                <div class="w-full" fxLayout="row" fxLayoutAlign="space-between center">
                    <mat-form-field class="w-full">
                        <mat-label>{{ 'PROJECTS.INFO.PROJECT_SITE' | translate }}</mat-label>
                        <input matInput [formControlName]="'site'">
                    </mat-form-field>
                </div>
                <div class="w-full" fxLayout="row" fxLayoutAlign="space-between center">
                    <mat-form-field>
                        <mat-label>{{ 'PROJECTS.INFO.PROJECT_ADDRESS' | translate }}</mat-label>
                        <input matInput [formControlName]="'address'">
                    </mat-form-field>
                    <mat-form-field>
                        <mat-label>{{ 'PROJECTS.INFO.PROJECT_DISTANCE_TO_CUSTOMER' | translate }}</mat-label>
                        <input matInput [formControlName]="'distanceToCustomer'">
                    </mat-form-field>
                </div>
                <div class="w-full" fxLayout="row" fxLayoutAlign="space-between center">
                    <mat-form-field>
                        <mat-label>{{ 'PROJECTS.INFO.PROJECT_PHONE' | translate }}</mat-label>
                        <input matInput [formControlName]="'tel'">
                    </mat-form-field>
                    <mat-form-field>
                        <mat-label>{{ 'PROJECTS.INFO.PROJECT_MISCELLANEOUS' | translate }}</mat-label>
                        <input matInput [formControlName]="'fax'">
                    </mat-form-field>
                </div>
            </div>
            <div *ngIf="storage.infoData" fxFlex class="info-container min-w-[260px] relative w-full PDB20 logo" fxLayout="column" fxLayoutAlign="start start">
                <div fxLayout="row" fxLayoutAlign="space-between center" class="w-full mb-4">
                    <div fxLayout="row" fxLayoutAlign="start center">
                        <mat-icon>image</mat-icon>
                        <h3 class="!ml-4">{{ 'PROJECTS.INFO.PROJECT_LOGO'| translate}}</h3>
                    </div>
                    <div fxLayout="row" class="grid grid-cols-2 gap-2">
                        <button *ngIf="storage.editLogoCostumer.enabled" [disabled]="customerData.enabled" (click)="cancelEditLogo('customer')" mat-stroked-button class="btn-icon btn-small"><mat-icon>cancel</mat-icon></button>
                        <button *ngIf="storage.editLogoCostumer.enabled" [disabled]="customerData.enabled" (click)="saveEditLogo('customer')" mat-raised-button class="btn-icon btn-small"><mat-icon>save</mat-icon></button>
                        <button *ngIf="!storage.editLogoCostumer.enabled" [disabled]="customerData.enabled" (click)="startEditLogo('customer')" mat-stroked-button class="btn-icon btn-small"><mat-icon>edit</mat-icon></button>
                    </div>
                </div>
                <div class="w-full m-2" fxLayout="column" fxLayoutAlign="start center">
                    <img src="{{storage.infoData.customerData.logo}}" [hidden]="storage.infoData.customerData.logo===null || storage.infoData.customerData.logo===''" style="max-width:170px; max-height:130px;"/>
                    <no-info *ngIf="!storage.infoData.customerData.logo"></no-info>
                </div>
                <div *ngIf="storage.editLogoCostumer.enabled" fxLayout="row" class="w-full grid grid-cols-2 gap-2 mt-2">
                    <button (click)="removeLogo('customer')" [disabled]="!storage.infoData.customerData.logo" mat-stroked-button class="btn-icon btn-small"><mat-icon>delete</mat-icon></button>
                    <button for="input-file-id" class="btn-icon btn-small" mat-stroked-button (click)="fileInput.click()"><mat-icon>sync</mat-icon></button>
                    <input hidden (change)="onFileSelected('customer')" #fileInput type="file" id="file">
                </div>
            </div>
        </div>

        <div [formGroup]="vendorData" class="info-container min-w-[420px] !min-h-[640px]" fxLayout="column" fxLayoutAlign="start start">
            <div fxLayout="row" fxLayoutAlign="space-between center" class="w-full mb-4">
                <div fxLayout="row" fxLayoutAlign="start center">
                    <mat-icon>account_box</mat-icon>
                    <h3 class="!ml-4">{{ 'PROJECTS.INFO.CUSTOMER_DATA' | translate }}</h3>
                </div>
                <div fxLayout="row"     class="grid grid-cols-2 gap-2">
                    <button *ngIf="vendorData.enabled" [disabled]="customerData.enabled || settingsData.enabled" (click)="cancelEdit(vendorData)" mat-stroked-button class="btn-icon btn-small"><mat-icon>cancel</mat-icon></button>
                    <button *ngIf="vendorData.enabled" [disabled]="customerData.enabled || settingsData.enabled" (click)="saveEditData(vendorData, 'vendor')" mat-raised-button class="btn-icon btn-small"><mat-icon>save</mat-icon></button>
                    <button *ngIf="vendorData.disabled" [disabled]="customerData.enabled || settingsData.enabled" (click)="startEdit(vendorData)" mat-stroked-button class="btn-icon btn-small"><mat-icon>edit</mat-icon></button>
                </div>
            </div>
            <div class="w-full" fxLayout="column" fxLayoutAlign="start start">
                <div class="w-full" fxLayout="row" fxLayoutAlign="space-between center">
                    <mat-form-field  class="w-full">
                        <mat-label>{{ 'PROJECTS.INFO.CUSTOMER_COMPANY' | translate }}</mat-label>
                        <input matInput [formControlName]="'name'">
                    </mat-form-field>
                </div>
                <div class="w-full" fxLayout="row" fxLayoutAlign="space-between center">
                    <mat-form-field>
                        <mat-label>{{ 'PROJECTS.INFO.CUSTOMER_GIVEN_NAME' | translate }}</mat-label>
                        <input matInput [formControlName]="'firstName'">
                    </mat-form-field>
                    <mat-form-field>
                        <mat-label>{{ 'PROJECTS.INFO.CUSTOMER_SURNAME' | translate }}</mat-label>
                        <input matInput [formControlName]="'lastName'">
                    </mat-form-field>
                </div>
                <div class="w-full" fxLayout="row" fxLayoutAlign="space-between center">
                    <mat-form-field class="w-full">
                        <mat-label>{{ 'PROJECTS.INFO.CUSTOMER_ADDRESS' | translate }}</mat-label>
                        <input matInput [formControlName]="'address'">
                    </mat-form-field>
                </div>
                <div class="w-full" fxLayout="row" fxLayoutAlign="space-between center">
                    <mat-form-field>
                        <mat-label>{{ 'PROJECTS.INFO.CUSTOMER_PHONE' | translate }}</mat-label>
                        <input matInput [formControlName]="'tel'">
                    </mat-form-field>
                    <mat-form-field>
                        <mat-label>{{ 'PROJECTS.INFO.CUSTOMER_MISCELLANEOUS' | translate }}</mat-label>
                        <input matInput [formControlName]="'fax'">
                    </mat-form-field>
                </div>
            </div>
            <div *ngIf="storage.infoData" fxFlex class="info-container min-w-[260px] relative w-full PDB20 logo" fxLayout="column" fxLayoutAlign="start start">
                <div fxLayout="row" fxLayoutAlign="space-between center" class="w-full mb-4">
                    <div fxLayout="row" fxLayoutAlign="start center">
                        <mat-icon>image</mat-icon>
                        <h3 class="!ml-4">{{ 'PROJECTS.INFO.CUSTOMER_LOGO'| translate}}</h3>
                    </div>
                    <div fxLayout="row" class="grid grid-cols-2 gap-2">
                        <button *ngIf="storage.editLogoVendor.enabled" [disabled]="vendorData.enabled" (click)="cancelEditLogo('vendor')" mat-stroked-button class="btn-icon btn-small"><mat-icon>cancel</mat-icon></button>
                        <button *ngIf="storage.editLogoVendor.enabled" [disabled]="vendorData.enabled" (click)="saveEditLogo('vendor')" mat-raised-button class="btn-icon btn-small"><mat-icon>save</mat-icon></button>
                        <button *ngIf="!storage.editLogoVendor.enabled" [disabled]="vendorData.enabled" (click)="startEditLogo('vendor')" mat-stroked-button class="btn-icon btn-small"><mat-icon>edit</mat-icon></button>
                    </div>
                </div>
                <div class="w-full m-2" fxLayout="column" fxLayoutAlign="start center">
                    <img src="{{storage.infoData.vendorData.logo}}" [hidden]="storage.infoData.vendorData.logo===null || storage.infoData.vendorData.logo===''" style="max-width:170px; max-height:130px;"/>
                    <no-info *ngIf="!storage.infoData.vendorData.logo"></no-info>
                </div>
                <div *ngIf="storage.editLogoVendor.enabled" fxLayout="row" class="w-full grid grid-cols-2 gap-2 mt-2">
                    <button (click)="removeLogo('vendor')" [disabled]="!storage.infoData.vendorData.logo" mat-stroked-button class="btn-icon btn-small"><mat-icon>delete</mat-icon></button>
                    <button for="input-file-id" class="btn-icon btn-small" mat-stroked-button (click)="fileInput.click()"><mat-icon>sync</mat-icon></button>
                    <input hidden (change)="onFileSelected('vendor')" #fileInput type="file" id="file">
                </div>
            </div>
        </div>
    </div>
    <div class="w-full" style="margin-left:-6px;">
        <div [formGroup]="settingsData" class="info-container min-w-[420px]" fxLayout="column" fxLayoutAlign="start start">
            <div fxLayout="row" fxLayoutAlign="space-between center" class="w-full mb-4">
                <div fxLayout="row" fxLayoutAlign="start center">
                    <mat-icon>tune</mat-icon>
                    <h3 class="!ml-4">{{ 'PROJECTS.INFO.SETTINGS_PARAMETER' | translate }}</h3>
                </div>
                <div fxLayout="row"     class="grid grid-cols-2 gap-2">
                    <button *ngIf="settingsData.enabled" [disabled]="customerData.enabled || vendorData.enabled" (click)="cancelEdit(settingsData)" mat-stroked-button class="btn-icon btn-small"><mat-icon>cancel</mat-icon></button>
                    <button *ngIf="settingsData.enabled" [disabled]="customerData.enabled || vendorData.enabled" (click)="saveEditData(settingsData, 'settings')" mat-raised-button class="btn-icon btn-small"><mat-icon>save</mat-icon></button>
                    <button *ngIf="settingsData.disabled" [disabled]="customerData.enabled || vendorData.enabled" (click)="startEdit(settingsData)" mat-stroked-button class="btn-icon btn-small"><mat-icon>edit</mat-icon></button>
                </div>
            </div>
            <div class="w-full" fxLayout="column" fxLayoutAlign="start start">
                <div class="w-full" fxLayout="row" fxLayoutAlign="space-between center">
                    <mat-form-field class="w-full">
                        <mat-label>{{ 'PROJECTS.INFO.SETTINGS_CURRENCY' | translate }}</mat-label>
                        <input matInput [formControlName]="'currency'">
                    </mat-form-field>
                </div>
                <div class="w-full" fxLayout="row" fxLayoutAlign="space-between center">
                    <mat-form-field class="w-full">
                        <mat-label>{{ 'PROJECTS.INFO.SETTINGS_PRICE_POWER_KWH' | translate }}</mat-label>
                        <input matInput type="number" [formControlName]="'pricePowerKwh'">
                    </mat-form-field>
                </div>
                <div class="w-full" fxLayout="row" fxLayoutAlign="space-between center">
                    <mat-form-field class="w-full">
                        <mat-label>{{ 'PROJECTS.INFO.SETTINGS_PRICE_DIESEL' | translate }}</mat-label>
                        <input matInput type="number" [formControlName]="'priceDiesel'">
                    </mat-form-field>
                </div>
                <div class="w-full" fxLayout="row" fxLayoutAlign="space-between center">
                    <mat-form-field class="w-full">
                        <mat-label>{{ 'PROJECTS.INFO.SETTINGS_PRICE_GAS' | translate }}</mat-label>
                        <input matInput type="number" [formControlName]="'priceGas'">
                    </mat-form-field>
                </div>
                <div class="w-full" fxLayout="row" fxLayoutAlign="space-between center">
                    <mat-form-field class="w-full">
                        <mat-label>{{ 'PROJECTS.INFO.SETTINGS_OVERALL_COST_FACTOR' | translate }}</mat-label>
                        <input matInput type="number" [formControlName]="'overallCostFactor'">
                    </mat-form-field>
                </div>
                <div class="w-full" fxLayout="row" fxLayoutAlign="space-between center">
                    <mat-form-field class="w-full">
                        <mat-label>{{ 'PROJECTS.INFO.SETTINGS_WORKING_DAYS' | translate }}</mat-label>
                        <input matInput type="number" [formControlName]="'workingDays'">
                    </mat-form-field>
                </div>
                <div class="w-full" fxLayout="row" fxLayoutAlign="space-between center">
                    <mat-form-field class="w-full">
                        <mat-label>{{ 'PROJECTS.INFO.SETTINGS_MAX_SPEED' | translate }}</mat-label>
                        <input matInput type="number" [formControlName]="'maxSpeed'">
                    </mat-form-field>
                </div>
            </div>
        </div>
    </div>
</div>
